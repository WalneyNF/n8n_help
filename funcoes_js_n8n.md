# üìå Guia de Manipula√ß√£o de Dados no n8n

Este documento re√∫ne fun√ß√µes essenciais para manipula√ß√£o de dados dentro do **n8n**, incluindo formata√ß√£o de **telefones, documentos (CPF, CNPJ, RG, Inscri√ß√£o Estadual), remo√ß√£o de acentos, JSON, datas** e outras transforma√ß√µes importantes.  

üí° **Objetivo:** Ajudar desenvolvedores e automa√ß√£o de processos a lidar com dados de forma eficiente e pr√°tica no n8n.  

üîó **Como usar?** Basta copiar e colar as fun√ß√µes no n√≥ "Set" ou "Function" do n8n, ajustando conforme sua necessidade.  


üìå Fun√ß√µes 
$json.const.length()

Obt√©m o comprimento (quantidade de caracteres) do valor armazenado em $json.const.
Se const for uma string "teste", ent√£o $json.const.length() retorna 5.
parseInt($json.const.length())

Converte o comprimento da string para um n√∫mero inteiro.
Isso pode ser √∫til para garantir que o valor seja tratado como n√∫mero.
üìå Outras fun√ß√µes √∫teis no n8n
Aqui est√£o algumas fun√ß√µes comuns e seus usos:

1. Manipula√ß√£o de Strings

{{ $json.nome.toUpperCase() }}  // Converte para mai√∫sculas
{{ $json.nome.toLowerCase() }}  // Converte para min√∫sculas
{{ $json.nome.replace(" ", "-") }}  // Substitui espa√ßo por h√≠fen
{{ $json.nome.substring(0, 5) }}  // Pega os primeiros 5 caracteres
Exemplo:
Se $json.nome = "Nova Friburgo", ent√£o:

toUpperCase() ‚Üí "NOVA FRIBURGO"
toLowerCase() ‚Üí "nova friburgo"
replace(" ", "-") ‚Üí "Nova-Friburgo"

2. N√∫meros e C√°lculos

{{ parseInt($json.idade) + 5 }}  // Soma 5 √† idade
{{ $json.preco.toFixed(2) }}  // Formata n√∫mero com duas casas decimais
{{ Math.round($json.preco) }}  // Arredonda n√∫mero
{{ Math.random() }}  // Gera um n√∫mero aleat√≥rio entre 0 e 1
Exemplo:
Se $json.preco = 10.756, ent√£o:

toFixed(2) ‚Üí "10.76"
Math.round(10.756) ‚Üí 11

3. Datas e Hor√°rios

{{ new Date().toISOString() }}  // Data atual no formato ISO
{{ new Date().toLocaleString() }}  // Data e hora no formato local
{{ new Date($json.data).getFullYear() }}  // Retorna o ano de uma data
{{ new Date().getTime() }}  // Timestamp (milissegundos desde 1970)
Exemplo:
Se $json.data = "2024-02-06T10:00:00Z", ent√£o:

getFullYear() ‚Üí 2024

4. JSON e Arrays

{{ JSON.stringify($json) }}  // Converte objeto para string JSON
{{ JSON.parse($json.texto) }}  // Converte string JSON para objeto
{{ $json.lista.length }}  // Conta quantos itens existem em um array
{{ $json.lista.includes("item1") }}  // Verifica se um item est√° no array
{{ $json.lista.join(", ") }}  // Junta elementos do array em uma string
Exemplo:
Se $json.lista = ["RJ", "SP", "MG"], ent√£o:

join(", ") ‚Üí "RJ, SP, MG"

üìå Exemplo pr√°tico no n8n
Objetivo: Criar um link IBGE formatado a partir dos dados do ViaCEP

{{ "https://cidades.ibge.gov.br/brasil/" + $json.uf.toLowerCase() + "/" + $json.localidade.toLowerCase().replace(/\s+/g, '-') + "/panorama" }}
Se $json.localidade = "Nova Friburgo" e $json.uf = "RJ", o resultado ser√°:

https://cidades.ibge.gov.br/brasil/rj/nova-friburgo/panorama
Essas fun√ß√µes ajudam a transformar dados no n8n sem precisar de um n√≥ de c√≥digo! Quer mais algum exemplo? üòä

Aqui est√° uma tabela com fun√ß√µes √∫teis para o n8n, organizadas por categorias. Essas fun√ß√µes ajudam a manipular strings, n√∫meros, datas, JSON e arrays dentro dos workflows.

üìå Tabela de Fun√ß√µes √öteis no n8n
Categoria	Fun√ß√£o	Descri√ß√£o / Uso	Exemplo / Sa√≠da

üî§ Strings

{{ $json.nome.toUpperCase() }}	Converte para mai√∫sculas	"nova friburgo" ‚Üí "NOVA FRIBURGO"
{{ $json.nome.toLowerCase() }}	Converte para min√∫sculas	"Nova Friburgo" ‚Üí "nova friburgo"
{{ $json.nome.replace(" ", "-") }}	Substitui espa√ßos por h√≠fens	"Nova Friburgo" ‚Üí "Nova-Friburgo"
{{ $json.nome.substring(0, 5) }}	Pega os 5 primeiros caracteres	"Friburgo" ‚Üí "Fribu"
{{ $json.nome.includes("Friburgo") }}	Verifica se cont√©m um termo espec√≠fico	"Nova Friburgo" ‚Üí true
{{ $json.nome.split(" ") }}	Divide uma string em um array	"Nova Friburgo" ‚Üí ["Nova", "Friburgo"]
{{ $json.nome.trim() }}	Remove espa√ßos extras no in√≠cio e fim	" Nova Friburgo " ‚Üí "Nova Friburgo"

üî¢ N√∫meros

{{ parseInt($json.idade) }}	Converte para inteiro	"47" ‚Üí 47
{{ parseFloat($json.preco).toFixed(2) }}	Formata n√∫mero com duas casas decimais	10.756 ‚Üí "10.76"
{{ Math.round($json.preco) }}	Arredonda para o n√∫mero inteiro mais pr√≥ximo	10.6 ‚Üí 11
{{ Math.ceil($json.preco) }}	Arredonda para cima	10.3 ‚Üí 11
{{ Math.floor($json.preco) }}	Arredonda para baixo	10.9 ‚Üí 10
{{ Math.random() }}	Gera um n√∫mero aleat√≥rio entre 0 e 1	Exemplo: 0.7362

üìÖ Datas e Hor√°rios	

{{ new Date().toISOString() }}	Retorna data e hora atuais no formato ISO	"2025-02-06T14:30:00.000Z"
{{ new Date().toLocaleString() }}	Data e hora no formato local	"06/02/2025, 11:30:00"
{{ new Date().getFullYear() }}	Retorna o ano atual	2025
{{ new Date().getTime() }}	Retorna o timestamp (milissegundos desde 1970)	1707222000000
{{ new Date($json.data).toDateString() }}	Converte data para formato leg√≠vel	"Wed Feb 06 2025"

üì¶ JSON / Objetos	

{{ JSON.stringify($json) }}	Converte objeto para string JSON	{ "cidade": "Nova Friburgo" } ‚Üí "{\"cidade\":\"Nova Friburgo\"}"
{{ JSON.parse($json.texto) }}	Converte string JSON para objeto	"{\"cidade\":\"Nova Friburgo\"}" ‚Üí { "cidade": "Nova Friburgo" }
{{ Object.keys($json) }}	Retorna um array com as chaves do objeto	{ "cep": "28623-680", "uf": "RJ" } ‚Üí ["cep", "uf"]
{{ Object.values($json) }}	Retorna um array com os valores do objeto	{ "cep": "28623-680", "uf": "RJ" } ‚Üí ["28623-680", "RJ"]

üóÇ Arrays / Listas	

{{ $json.lista.length }}	Conta quantos itens existem no array	["RJ", "SP", "MG"] ‚Üí 3
{{ $json.lista.includes("RJ") }}	Verifica se um item est√° no array	["RJ", "SP", "MG"] ‚Üí true
{{ $json.lista.join(", ") }}	Junta os elementos do array em uma string separada por v√≠rgula	["RJ", "SP", "MG"] ‚Üí "RJ, SP, MG"
{{ $json.lista.map(item => item.toUpperCase()) }}	Converte cada item do array para mai√∫scula	["rj", "sp", "mg"] ‚Üí ["RJ", "SP", "MG"]
{{ $json.lista.filter(item => item !== "RJ") }}	Remove um item espec√≠fico do array	["RJ", "SP", "MG"] ‚Üí ["SP", "MG"]
{{ $json.lista.reverse() }}	Inverte a ordem dos itens do array	["RJ", "SP", "MG"] ‚Üí ["MG", "SP", "RJ"]

üìå Exemplo pr√°tico no n8n

{{ "https://cidades.ibge.gov.br/brasil/" + $json.uf.toLowerCase() + "/" + $json.localidade.toLowerCase().replace(/\s+/g, '-') + "/panorama" }}
Entrada ($json):

{
  "localidade": "Nova Friburgo",
  "uf": "RJ"
}
Sa√≠da esperada:

https://cidades.ibge.gov.br/brasil/rj/nova-friburgo/panorama

üìå Resumo
Strings: Manipula√ß√£o de textos (mai√∫sculas, substitui√ß√µes, recortes).
N√∫meros: Convers√£o, arredondamento e c√°lculos.
Datas: Formata√ß√£o e obten√ß√£o de tempo.
JSON: Convers√£o e extra√ß√£o de valores.
Arrays: Contagem, busca, manipula√ß√£o e filtragem.


üöÄ Aqui vai mais um conjunto de fun√ß√µes √∫teis para n8n, incluindo manipula√ß√£o de strings avan√ßada, arrays, datas, objetos e express√µes regulares. Vou adicionar mais exemplos que podem ser √∫teis no seu workflow!

üìå Mais Fun√ß√µes √öteis para n8n

Categoria	Fun√ß√£o	Descri√ß√£o / Uso	Exemplo / Sa√≠da

üî§ Strings Avan√ßadas	

{{ $json.texto.startsWith("Nova") }}	Verifica se come√ßa com determinado valor	"Nova Friburgo" ‚Üí true
{{ $json.texto.endsWith("Friburgo") }}	Verifica se termina com determinado valor	"Nova Friburgo" ‚Üí true
{{ $json.texto.charAt(0) }}	Retorna o primeiro caractere	"Friburgo" ‚Üí "F"
{{ $json.texto.slice(0, 4) }}	Corta a string entre os √≠ndices 0 e 4	"Friburgo" ‚Üí "Frib"
{{ $json.texto.replace(/\d+/g, '') }}	Remove n√∫meros de uma string usando Regex	"Rua 123 Araguaia" ‚Üí "Rua Araguaia"

üî¢ N√∫meros Avan√ßados

{{ Math.min(...$json.numeros) }}	Retorna o menor n√∫mero de um array	[10, 5, 8] ‚Üí 5
{{ Math.max(...$json.numeros) }}	Retorna o maior n√∫mero de um array	[10, 5, 8] ‚Üí 10
{{ (parseFloat($json.preco) * 1.1).toFixed(2) }}	Calcula 10% de aumento e formata com 2 casas decimais	100 ‚Üí "110.00"

üìÖ Datas Avan√ßadas	

{{ new Date().getDay() }}	Retorna o dia da semana (0 = Domingo, 1 = Segunda...)	0
{{ new Date().getMonth() + 1 }}	Retorna o m√™s (Janeiro = 1, Fevereiro = 2...)	2
{{ new Date(new Date().setDate(new Date().getDate() + 7)).toDateString() }}	Adiciona 7 dias √† data atual	"Wed Feb 13 2025"

üì¶ Manipula√ß√£o de JSON	

{{ JSON.stringify($json, null, 2) }}	Converte objeto JSON para string formatada (leg√≠vel)	{ "uf": "RJ" } ‚Üí "{"uf": "RJ"}"
{{ $json.hasOwnProperty("uf") }}	Verifica se um campo existe no JSON	{ "uf": "RJ" } ‚Üí true

üóÇ Arrays Avan√ßados	

{{ $json.lista.find(item => item === "SP") }}	Retorna o primeiro item encontrado	["RJ", "SP", "MG"] ‚Üí "SP"
{{ $json.lista.map(item => item.length) }}	Retorna um array com os tamanhos dos itens	["RJ", "SP", "MG"] ‚Üí [2, 2, 2]
{{ $json.lista.every(item => item.length === 2) }}	Verifica se todos os itens t√™m 2 caracteres	["RJ", "SP", "MG"] ‚Üí true
{{ $json.lista.some(item => item === "RJ") }}	Verifica se existe pelo menos um "RJ" no array	["RJ", "SP", "MG"] ‚Üí true
{{ $json.lista.sort() }}	Ordena um array em ordem alfab√©tica	["Friburgo", "Nova"] ‚Üí ["Friburgo", "Nova"]

üîç Express√µes Regulares (Regex)	

{{ $json.texto.match(/\d+/g) }}	Retorna apenas os n√∫meros de uma string	"Rua 123" ‚Üí ["123"]
{{ $json.texto.replace(/\s+/g, "-") }}	Substitui espa√ßos por h√≠fens	"Nova Friburgo" ‚Üí "Nova-Friburgo"
{{ $json.texto.match(/[A-Z]/g) }}	Retorna todas as letras mai√∫sculas da string	"Nova Friburgo RJ" ‚Üí ["N", "F", "R", "J"]

üìå Mais exemplos pr√°ticos no n8n

1Ô∏è‚É£ Criando um link formatado para o IBGE

{{ "https://cidades.ibge.gov.br/brasil/" + $json.uf.toLowerCase() + "/" + $json.localidade.toLowerCase().replace(/\s+/g, '-') + "/panorama" }}
Entrada ($json):

{
  "localidade": "Nova Friburgo",
  "uf": "RJ"
}

https://cidades.ibge.gov.br/brasil/rj/nova-friburgo/panorama

2Ô∏è‚É£ Filtrando apenas n√∫meros do endere√ßo

{{ $json.endereco.match(/\d+/g) }}
Entrada ($json):

{
  "endereco": "Rua 123 Araguaia, 45"
}
Sa√≠da esperada:

["123", "45"]

3Ô∏è‚É£ Somando todos os valores de um array num√©rico

{{ $json.valores.reduce((acc, val) => acc + val, 0) }}
Entrada ($json):

{
  "valores": [10, 20, 30]
}
Sa√≠da esperada:


4Ô∏è‚É£ Ordenando uma lista de cidades

{{ $json.cidades.sort() }}
Entrada ($json):

{
  "cidades": ["Friburgo", "Teres√≥polis", "Petr√≥polis"]
}
Sa√≠da esperada:

["Friburgo", "Petr√≥polis", "Teres√≥polis"]

üìå Resumo das novas fun√ß√µes
Strings Avan√ßadas: Detectar in√≠cio/fim, remover n√∫meros, capturar caracteres.
N√∫meros Avan√ßados: Encontrar maior/menor, calcular valores.
Datas Avan√ßadas: Pegar m√™s/dia, somar dias, transformar timestamps.
Manipula√ß√£o de JSON: Stringify, verificar chaves.
Arrays Avan√ßados: Ordena√ß√£o, buscas, verifica√ß√£o de exist√™ncia.
Regex: Extra√ß√£o e substitui√ß√£o de padr√µes.
Agora voc√™ tem um super kit de fun√ß√µes para o n8n! üî• Se precisar de mais algo espec√≠fico, s√≥ perguntar! üöÄ

üìå Mais Fun√ß√µes Avan√ßadas para n8n
Categoria	Fun√ß√£o	Descri√ß√£o / Uso	Exemplo / Sa√≠da

üî§ Strings Extras

{{ $json.texto.toUpperCase() }}	Converte tudo para mai√∫sculas	"friburgo" ‚Üí "FRIBURGO"
{{ $json.texto.toLowerCase() }}	Converte tudo para min√∫sculas	"Friburgo" ‚Üí "friburgo"
{{ $json.texto.trim() }}	Remove espa√ßos extras no in√≠cio e fim da string	" Friburgo " ‚Üí "Friburgo"
{{ encodeURI($json.texto) }}	Converte para URL encode	"Nova Friburgo" ‚Üí "Nova%20Friburgo"
{{ decodeURI($json.texto) }}	Converte URL encode para texto normal	"Nova%20Friburgo" ‚Üí "Nova Friburgo"

üî¢ N√∫meros Extras

{{ Math.round($json.valor) }}	Arredonda para o n√∫mero inteiro mais pr√≥ximo	10.7 ‚Üí 11
{{ Math.floor($json.valor) }}	Arredonda para baixo	10.9 ‚Üí 10
{{ Math.ceil($json.valor) }}	Arredonda para cima	10.1 ‚Üí 11
{{ Math.abs($json.valor) }}	Retorna o valor absoluto	-10 ‚Üí 10

üìÖ Datas Extras

{{ new Date().toISOString() }}	Retorna a data atual no formato ISO 8601	"2025-02-06T12:00:00.000Z"
{{ new Date().toLocaleDateString("pt-BR") }}	Formata a data para pt-BR	"06/02/2025"
{{ new Date().toLocaleTimeString("pt-BR") }}	Retorna apenas a hora formatada	"12:00:00"
{{ Date.now() }}	Retorna o timestamp atual	1707206400000
{{ new Date($json.data).getFullYear() }}	Extrai o ano de uma data	"2025-02-06" ‚Üí 2025

üì¶ Manipula√ß√£o de JSON Avan√ßada

{{ Object.keys($json) }}	Retorna todas as chaves do JSON	{ "uf": "RJ", "cidade": "Nova Friburgo" } ‚Üí ["uf", "cidade"]
{{ Object.values($json) }}	Retorna todos os valores do JSON	{ "uf": "RJ", "cidade": "Nova Friburgo" } ‚Üí ["RJ", "Nova Friburgo"]
{{ Object.entries($json) }}	Retorna um array de chave-valor	{ "uf": "RJ", "cidade": "Nova Friburgo" } ‚Üí [["uf", "RJ"], ["cidade", "Nova Friburgo"]]

üóÇ Arrays Extras

{{ $json.lista.includes("RJ") }}	Verifica se o array cont√©m "RJ"	["RJ", "SP", "MG"] ‚Üí true
{{ $json.lista.reverse() }}	Inverte a ordem do array	["RJ", "SP", "MG"] ‚Üí ["MG", "SP", "RJ"]
{{ $json.lista.join(", ") }}	Converte um array em string separada por v√≠rgula	["RJ", "SP", "MG"] ‚Üí "RJ, SP, MG"
{{ Array.isArray($json.lista) }}	Verifica se √© um array	["RJ", "SP"] ‚Üí true
{{ $json.lista.filter(item => item !== "RJ") }}	Remove "RJ" do array	["RJ", "SP", "MG"] ‚Üí ["SP", "MG"]

üîç Regex Avan√ßado
{{ /[A-Z]/.test($json.texto) }}	Verifica se h√° letras mai√∫sculas	"friburgo" ‚Üí false
{{ $json.texto.replace(/\d+/g, "***") }}	Substitui todos os n√∫meros por "*"**	"Rua 123" ‚Üí "Rua ***"
{{ $json.texto.match(/\b\w{5}\b/g) }}	Retorna palavras com exatamente 5 letras	"Friburgo Nova Rio" ‚Üí ["Nova"]

üìå Exemplos pr√°ticos no n8n

1Ô∏è‚É£ Criando um Link de Pesquisa no Google

{{ "https://www.google.com/search?q=" + encodeURIComponent($json.termo) }}
Entrada ($json):

{
  "termo": "melhores softwares para MEI"
}
Sa√≠da esperada:

https://www.google.com/search?q=melhores%20softwares%20para%20MEI

2Ô∏è‚É£ Filtrando um JSON para obter apenas cidades do RJ

{{ $json.cidades.filter(cidade => cidade.uf === "RJ") }}
Entrada ($json):

{
  "cidades": [
    { "nome": "Nova Friburgo", "uf": "RJ" },
    { "nome": "S√£o Paulo", "uf": "SP" }
  ]
}
Sa√≠da esperada:

[
  { "nome": "Nova Friburgo", "uf": "RJ" }
]

3Ô∏è‚É£ Convertendo um JSON em string formatada

{{ JSON.stringify($json, null, 2) }}
Entrada ($json):

{
  "cidade": "Nova Friburgo",
  "uf": "RJ"
}
Sa√≠da esperada:

{
  "cidade": "Nova Friburgo",
  "uf": "RJ"
}

4Ô∏è‚É£ Verificando se um e-mail √© v√°lido

{{ /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test($json.email) }}
Entrada ($json):

{
  "email": "teste@email.com"
}
Sa√≠da esperada:


üìå Resumo das novas fun√ß√µes
Strings Extras: Mai√∫sculas, min√∫sculas, trim, encode URI.
N√∫meros Extras: Arredondamentos, valor absoluto.
Datas Extras: ISO date, timestamp, convers√µes de data/hora.
Manipula√ß√£o de JSON: Obter chaves, valores, entradas.
Arrays Extras: Verifica√ß√£o, invers√£o, filtragem.
Regex Avan√ßado: Busca de padr√µes mais complexos.

üìå Fun√ß√µes Avan√ßadas para Manipula√ß√£o de Dados no n8n

üìû Telefones

{{ $json.telefone.replace(/\D/g, "") }}	Remove todos os caracteres n√£o num√©ricos	"(22) 99999-1234" ‚Üí "22999991234"
{{ $json.telefone.replace(/\D/g, "").slice(-8) }}	Retorna apenas os 8 √∫ltimos d√≠gitos do telefone	"(22) 99999-1234" ‚Üí "99991234"
{{ $json.telefone.replace(/\D/g, "").replace(/^(\d{2})(\d{5})(\d{4})$/, "($1) $2-$3") }}	Formata telefone com DDD e h√≠fen	"22999991234" ‚Üí "(22) 99999-1234"

üÜî Documentos (CPF, CNPJ, RG)

{{ $json.cpf.replace(/\D/g, "") }}	Remove pontos e tra√ßo do CPF	"123.456.789-09" ‚Üí "12345678909"
{{ $json.cnpj.replace(/\D/g, "") }}	Remove pontos, barras e tra√ßos do CNPJ	"12.345.678/0001-99" ‚Üí "12345678000199"
{{ $json.cpf.replace(/\D/g, "").replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, "$1.$2.$3-$4") }}	Formata um CPF corretamente	"12345678909" ‚Üí "123.456.789-09"
{{ $json.cnpj.replace(/\D/g, "").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, "$1.$2.$3/$4-$5") }}	Formata um CNPJ corretamente	"12345678000199" ‚Üí "12.345.678/0001-99"
{{ $json.rg.replace(/\D/g, "") }}	Remove tra√ßos e pontos do RG	"12.345.678-9" ‚Üí "123456789"
{{ $json.inscricaoEstadual.replace(/\D/g, "") }}	Remove formatos da Inscri√ß√£o Estadual	"123.456.789.012" ‚Üí "123456789012"

üî§ Remo√ß√£o de Acentos

{{ $json.texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "") }}	Remove acentos de palavras	"S√£o Jo√£o" ‚Üí "Sao Joao"
{{ $json.texto.replace(/[√°√†√£√¢√§]/g, "a").replace(/[√©√®√™√´]/g, "e").replace(/[√≠√¨√Æ√Ø]/g, "i").replace(/[√≥√≤√µ√¥√∂]/g, "o").replace(/[√∫√π√ª√º]/g, "u").replace(/[√ß]/g, "c") }}	Alternativa manual de remo√ß√£o de acentos	"a√ßa√≠, caf√©, cacha√ßa" ‚Üí "acai, cafe, cachaca"

üî§ Textos & Caracteres Especiais

{{ $json.texto.replace(/[^a-zA-Z0-9 ]/g, "") }}	Remove todos os caracteres especiais	"Nova Friburgo @ 100%" ‚Üí "Nova Friburgo 100"
{{ $json.texto.replace(/\s+/g, " ") }}	Substitui espa√ßos extras por um √∫nico espa√ßo	" Nova Friburgo " ‚Üí "Nova Friburgo"
{{ $json.texto.replace(/\b\w/g, letra => letra.toUpperCase()) }}	Primeira letra de cada palavra em mai√∫sculo	"nova friburgo" ‚Üí "Nova Friburgo"

üìÜ Datas & Hor√°rios Extras

{{ new Date($json.data).toLocaleDateString("pt-BR") }}	Formata uma data para o padr√£o brasileiro	"2025-02-06" ‚Üí "06/02/2025"
{{ new Date().toISOString().slice(0,10) }}	Retorna apenas a data atual no formato ISO	"2025-02-06"
{{ new Date($json.data).getFullYear() }}	Extrai apenas o ano de uma data	"2025-02-06" ‚Üí 2025
{{ new Date($json.data).getMonth() + 1 }}	Extrai apenas o m√™s (1-12)	"2025-02-06" ‚Üí 2
{{ new Date($json.data).getDate() }}	Extrai apenas o dia do m√™s	"2025-02-06" ‚Üí 6

üìå Exemplos Pr√°ticos no n8n

1Ô∏è‚É£ Normalizando e Formatando Telefones

{{ $json.telefone.replace(/\D/g, "").replace(/^(\d{2})(\d{5})(\d{4})$/, "($1) $2-$3") }}
üîπ Entrada ($json):

{
  "telefone": "(22) 99999-1234"
}
üîπ Sa√≠da esperada:

"(22) 99999-1234"

2Ô∏è‚É£ Validando e Formatando um CPF

{{ $json.cpf.replace(/\D/g, "").replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, "$1.$2.$3-$4") }}
üîπ Entrada ($json):

{
  "cpf": "123.456.789-09"
}
üîπ Sa√≠da esperada:

"123.456.789-09"
3Ô∏è‚É£ Removendo Acentos e Caracteres Especiais

{{ $json.texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^a-zA-Z0-9 ]/g, "") }}
üîπ Entrada ($json):

{
  "texto": "S√£o Jo√£o & Caf√© 100%"
}
üîπ Sa√≠da esperada:

"Sao Joao Cafe 100"

4Ô∏è‚É£ Formatando uma Data para o Padr√£o Brasileiro

{{ new Date($json.data).toLocaleDateString("pt-BR") }}
üîπ Entrada ($json):

{
  "data": "2025-02-06T12:00:00Z"
}
üîπ Sa√≠da esperada:

üìå Resumo das Novas Fun√ß√µes
‚úÖ Telefones: Remover caracteres especiais, formatar com DDD e h√≠fen
‚úÖ Documentos: CPF, CNPJ, RG, Inscri√ß√£o Estadual ‚Äì formata√ß√£o e limpeza
‚úÖ Acentos & Caracteres: Remover acentos, caracteres especiais, normalizar textos
‚úÖ Datas: Formatar para o padr√£o BR, extrair dia/m√™s/ano

üìå Fun√ß√µes Essenciais para Manipula√ß√£o de Dados no n8n
Este documento cont√©m uma lista de fun√ß√µes essenciais para trabalhar com telefones, documentos (CPF, CNPJ, RG), remo√ß√£o de acentos, formata√ß√£o de textos e datas no n8n.

üìû Telefones

{{ $json.telefone.replace(/\D/g, "") }}	Remove caracteres n√£o num√©ricos	"(22) 99999-1234" ‚ûù "22999991234"
{{ $json.telefone.replace(/\D/g, "").replace(/^(\d{2})(\d{5})(\d{4})$/, "($1) $2-$3") }}	Formata telefone com DDD e h√≠fen	"22999991234" ‚ûù "(22) 99999-1234"

üÜî Documentos (CPF, CNPJ, RG)

{{ $json.cpf.replace(/\D/g, "") }}	Remove formata√ß√£o do CPF	"123.456.789-09" ‚ûù "12345678909"
{{ $json.cpf.replace(/\D/g, "").replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, "$1.$2.$3-$4") }}	Formata um CPF	"12345678909" ‚ûù "123.456.789-09"
{{ $json.cnpj.replace(/\D/g, "") }}	Remove formata√ß√£o do CNPJ	"12.345.678/0001-99" ‚ûù "12345678000199"
{{ $json.cnpj.replace(/\D/g, "").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/, "$1.$2.$3/$4-$5") }}	Formata um CNPJ	"12345678000199" ‚ûù "12.345.678/0001-99"

üî§ Remo√ß√£o de Acentos

{{ $json.texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "") }}	Remove acentos	"S√£o Jo√£o" ‚ûù "Sao Joao"
{{ $json.texto.replace(/[^a-zA-Z0-9 ]/g, "") }}	Remove caracteres especiais	"Nova Friburgo @ 100%" ‚ûù "Nova Friburgo 100"

üìÜ Datas

{{ new Date($json.data).toLocaleDateString("pt-BR") }}	Formata data para padr√£o brasileiro	"2025-02-06" ‚ûù "06/02/2025"
{{ new Date().toISOString().slice(0,10) }}	Retorna a data atual em formato ISO	"2025-02-06"
{{ new Date($json.data).getFullYear() }}	Extrai apenas o ano	"2025-02-06" ‚ûù 2025
{{ new Date($json.data).getMonth() + 1 }}	Extrai apenas o m√™s	"2025-02-06" ‚ûù 2
{{ new Date($json.data).getDate() }}	Extrai apenas o dia	"2025-02-06" ‚ûù 6

üöÄ Exemplo de Uso no n8n

1Ô∏è‚É£ Normalizando e Formatando Telefones

{{ $json.telefone.replace(/\D/g, "").replace(/^(\d{2})(\d{5})(\d{4})$/, "($1) $2-$3") }}
Entrada:

{
  "telefone": "(22) 99999-1234"
}

Sa√≠da esperada:

"(22) 99999-1234"

2Ô∏è‚É£ Formatando um CPF
{{ $json.cpf.replace(/\D/g, "").replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, "$1.$2.$3-$4") }}

Entrada:

{
  "cpf": "12345678909"
}

Sa√≠da esperada:

"123.456.789-09"

Essas fun√ß√µes s√£o √∫teis para manipular e normalizar dados no n8n de forma eficiente. Se precisar de mais alguma fun√ß√£o, contribui√ß√µes s√£o bem-vindas! üöÄ


---

## ü§ù Contribui√ß√µes

Se voc√™ tiver sugest√µes, melhorias ou quiser adicionar mais fun√ß√µes √∫teis, sinta-se √† vontade para contribuir!  

üí¨ **D√∫vidas ou sugest√µes?**  
Abra uma issue ou entre em contato!  

üåé **Compartilhe este guia!**  
Se este documento te ajudou, considere compartilhar com a comunidade de automa√ß√£o no n8n.  

üöÄ **Feito para facilitar suas automa√ß√µes!**  

Atencisamente
Walney Moreira Klein - walneyk@hotmail.com
Com Ajuda do ChatGPT - 06/02/2025

